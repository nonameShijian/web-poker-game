# 项目名称：Web扑克牌游戏

## 项目简介

一款基于Web的扑克牌游戏，允许用户在线对战。

## 需求列表

### 1. 用户注册和登录功能
- [ ] 用户应能够注册并创建帐户
- [ ] 用户应能够通过用户名和密码登录和注销帐户
- [ ] 用户应能够更新其个人资料（如头像、昵称等等）
- [ ] 应记录用户胜负场次
- [ ] 注，不应设欢乐豆等其他可以换算为钱的虚拟物品

### 2. 游戏列表和比赛管理功能
- [ ] 游戏界面应提供游戏房间列表，其中包含当前可用的空房间，和以及开始（但不能加入）的游戏房间
- [ ] 用户应能够创建新的游戏房间，并且房主有权限开始游戏或者解散房间
- [ ] 用户应能够查看历史比赛数据信息，例如:和谁一起玩的，这局赢没赢。界面可参考其他类游戏的战绩页面。

### 3. 游戏界面和功能
- [ ] 主界面：登录/注册页面，最好不是枯燥无味的表单，而是类似洛克王国的那种初始页面
- [ ] 登录后的页面房间列表：由于只做一个玩法的扑克牌游戏，只需要显示房间列表即可。
- [ ] 房间页面：房主创建房间后的页面，其中人数固定为4人，并且房主有开始游戏和解散房间的按钮，其他人有准备，取消准备，退出房间的按钮。房间里应显示每个人的昵称和头像。房间界面可以和游戏界面共用同一个界面。（注：房间应设置固定位置的功能可开启或关闭，即开始游戏之前就决定队友是谁和初始位置，所有人应有请求交换位置的功能。关闭后所有人位置随机且随机分配队友。具体请参考游戏规则）
- [ ] 游戏界面应显示玩家本人卡牌、个人信息等，也可查看他人简略的个人游戏信息。也应该能查看本游戏的游戏规则(即一个dialog框显示游戏规则)
- [ ] 游戏界面应提供玩家交互和聊天功能
- [ ] 游戏应符合基本游戏规则

### 4. 技术要求
- [ ] 允许多玩家同时在线
- [ ] 游戏应基于安全协议，防止网络攻击和作弊
- [ ] 游戏应在Chromium内核的浏览器中兼容，若不支持type = module的script标签则提示更新浏览器而不是做无模块的兼容。
- [ ] 游戏应使用Web技术（包括HTML5、CSS、JavaScript等等）和相应的JAVA后端技术与数据库技术

### 5. 其他要求
- [ ] 系统可提供一个管理员界面，以管理用户帐户、违规头像、忘记密码、账户注销等问题
- [ ] 系统不允许提供支付系统
- [ ] 游戏应遵循相关法律和法规

### 6. 游戏规则
- [ ] 本游戏为固定的4人扑克牌游戏 ，不支持除4人以外的人数进行游戏
- [ ] 游戏开始时应随机分配队友（或开启固定位置的功能），2人一队，且队友必须坐在自己的对面。
- [ ] 游戏卡牌应包含一副扑克的所有牌，包括大王与小王
- [ ] 正常条件下，牌的大小顺序为 3 4 5 6 7 8 9 10 J Q K A 2 小王 大王
- [ ] 当四人中只有一人手中有牌时计算本轮游戏结束，展示手牌并进入下一轮的发牌
- [ ] 第一轮的发牌应随机选一位玩家作为发牌的起点，或开启固定位置的功能指定一位玩家作为发牌的起点，逆时针发牌直至牌发完 
- [ ] 游戏开始第一轮发牌后，以手中有红桃4的玩家作为本轮最先出牌的玩家
- [ ] 第一轮，双方以3作为初始的升级牌点数，即王以下的最大牌，即牌的大小顺序变为4 5 6 7 8 9 10 J Q K A 2 3 小王 大王
- [ ] 双方的升级牌点数是独立的，不是共用的。 
- [ ] 第二或以后的轮次发牌应以上一轮最先把牌出完的玩家作为发牌的起点和最先出牌的玩家。且前两次发牌的数量为2 （即发牌的数量为 2 2 1 1 1 1 1 1………），逆时针发牌直至牌发完
- [ ] 一名玩家在一轮中首先把牌出完则该玩家所在的队伍在下一轮计算该队伍的升级牌点数，使下一轮以点数为x的牌升级为王以下的最大牌。且点数升级效果仅限本轮。(x为上一次本方升级的牌点数加上此轮结束后对方手中还有牌的人数)。
- [ ] x最大可以升级到A，当一方的升级牌点数到达A后，需要本方所有人都把牌出完，视为本次游戏胜利，若本方有一个人牌先出完，另一个没有出完，则下一轮继续本轮的点数升级效果，若是另一方有一个人牌先出完，则执行另一方的牌升级效果。
- [ ] 游戏中可以出顺子(3 4 5或更多)，对子 ( 5 5 ) ，连对 （44 55 66 或更多），炸弹(3 3 3 或 4 4 4 4)。
- [ ] 双王不能作为炸弹使用，只能作为对子使用。（双王不能被炸弹影响）
- [ ] 本轮点数为x的牌不能作为顺子使用。
- [ ] 在出单牌的情况，红桃2可以管上其他花色的2，点数为x的红桃牌也如此。

### 7. 特殊挑战规则
- [ ] 在上面规则的前提下，一轮发牌后且第一位玩家出牌前，A要是觉得自己行了，就可以宣布“立棍”，即让A的队友把牌扣置，本轮不能交互和聊天。（可以理解为A的队友本轮被移出游戏）并且A作为本轮的一号位开始出牌。并且本轮的卡牌升级效果翻2倍，对方先跑的话对面牌升级效果也是翻2倍。
- [ ] A宣布“立棍”后且第一位玩家出牌前，另一方的B要是觉得自己更行了，就可以宣布“反立”，即让B的队友把牌扣置，本轮也不能交互和聊天。（可以理解为B的队友本轮被移出游戏）并且B代替A作为本轮的一号位开始出牌，并且本轮的卡牌升级效果改为翻4倍，对方先跑的话对面牌升级效果也是翻4倍。
